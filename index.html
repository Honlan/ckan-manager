<!DOCTYPE html>
<html>

<head>
    <title></title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>CkanAPI在线调用平台</title>
    <meta name="description" content="CkanAPI在线调用平台">
    <script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
    <script src="http://cdn.bootcss.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="public/js/index.js"></script>
    <link rel="stylesheet" type="text/css" href="http://cdn.bootcss.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <!--script src="public/js/jquery.min.js"></script>
    <script src="public/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="public/css/bootstrap.min.css"-->
    <link rel="stylesheet" type="text/css" href="public/css/index.css">
</head>

<body>
    <div id="header">
        <h1>CkanManager</h1>
        <h3>在线调用
            <span>CkanAPIs</span>
        </h3>
    </div>

    <div id="content">
        <div id="info">
            <div class="input-group">
                <span class="input-group-addon">Your Ckan Site</span>
                <input type="text" class="form-control" placeholder="data.sjtu.edu.cn" value="data.sjtu.edu.cn">
            </div>
        </div>
        <div id="main" class="panel panel-default">
            <div class="panel-body">
                <div>
                    <select class="btn btn-default" id="api">
                        <option value="">Select An API</option>
                        <option value="#para_datastore_create">datastore_create</option>
                        <option value="#para_url_update">url_update</option>
                        <!-- <option value="#para_datastore_upsert">datastore_upsert</option> -->
                        <option value="#para_datastore_delete">datastore_delete</option>
                        <!-- <option value="#para_current_package_list_with_resources">current_package_list_with_resources</option> -->
                        <option value="#para_datastore_update">datastore_update</option>-->
                    </select>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <input id="rid" type="text" class="form-control" placeholder="the id of your resource">
                    </div>
                    <div class="col-md-6">
                        <input id="api_key" type="text" class="form-control" placeholder="your api key">
                    </div>
                </div>

                <div class="panel panel-default para" id='para_datastore_create'>

                    <h5 id="addFieldButton" data-toggle="tooltip" data-placement="top" title="点我增加一项">fields</h5>
                    <div id="addField">
                        <div class="row">
                            <div class="col-md-6">
                                <input type="text" class="form-control" placeholder="field name">
                            </div>
                            <div class="col-md-6">
                                <select class="btn btn-default">
                                    <option value="">field type</option>
                                    <option value="text">text</option>
                                    <option value="float">float</option>
                                    <option value="json">json</option>
                                    <option value="timestamp">timestamp</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <h5 style="margin-top:15px;margin-bottom:15px;">primary_key</h5>
                    <div style="width:100%;" id="primary_key">
                        <input type="text" class="form-control" placeholder='可选，如果希望datastore数据可改请填写，选择以上某一项field name即可'>
                    </div>
                </div>

                <div class="panel panel-default para" id='para_url_update'>
                    <h5>更新资源链接为可下载的数据仓库链接，不需要更多操作，Just Run！</h5>
                </div>

                <!-- <div class="panel panel-default para" id='para_datastore_upsert'>
                    2
                </div> -->

                <div class="panel panel-default para" id='para_datastore_delete'>
                    <h5>filters</h5>
                    <div class="row">
                        <div class="col-md-12">
                            <input id='filters' type="text" class="form-control" placeholder='eg{"name":"zhl"}，如果不提供filters，将删除整个datastore！后果严重请谨慎！'>
                        </div>
                    </div>
                </div>

                <div class="panel panel-default para" id='para_datastore_update'>
                    <div class="row">
                        <div class="col-md-6">
                            <input id="pkn" type="text" class="form-control" placeholder="主键名">
                        </div>
                        <div class="col-md-6">
                            <input id="pkv" type="text" class="form-control" placeholder="主键值">
                        </div>
                    </div>
                    <h5 style="margin-top:15px;" id="addFieldButtonUpdate" data-toggle="tooltip" data-placement="top" title="点我增加一项">fields</h5>
                    <div id="addFieldUpdate">
                        <div class="row" style="margin-top:15px;">
                            <div class="col-md-6">
                                <input type="text" class="form-control updateFieldName" placeholder="field name">
                            </div>
                            <div class="col-md-6">
                                <input type="text" class="form-control updateFieldValue" placeholder="Update to">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- <div class="panel panel-default para" id='para_current_package_list_with_resources'>
                    4
                </div> -->

                <button id='run' class='btn btn-primary'>Run!</button>
            </div>
        </div>
    </div>

    <div id="footer" class='well'>
        <p>
            <span>在线CkanAPI调用工具</span>
            <br>
            <span>Copyright © 2014-2015 SJTU hlzhang</span>
        </p>
    </div>
</body>

</html>